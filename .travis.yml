# 1. Notifications
notifications:
  slack:
    rooms:
      # atex-ci
      - secure: "JxsfdZG2/wlvEcTNVMGEhwbJ4L3jcCsEpPaPqSqRqV6eMC3GfrC6k6lXTPl4EApxU7I+CxOn085lXqO/KR3DQCmI/uImCA69L4iPQ3Hm68mw8PnF4GhzWEPnISX6k3/9xNJclnO03jASMitgvvUI9wvU9kWfwXRE9EMdlFawAKPRVh84P9R9JuZVJQcD7PuiY6ykqr7P25V2v808qrk/iTF14+rhsqSEaQ5aVjSo+wkDpxilGY3vxVL3W+MgYZP32Nwd9K5QDNmKqPqyJ6PmGWepPylA/0py63KIxgpLTI0MkBPP7EMyUhvi5SoVk3Am43hBjkay13Aj4U4xngRdfmbR4UUQwvaPxahIEaIjRFm501dzbLjR/+fQHtxy2HEEqCnK+1cNnhfiTyvJKqDxAv+h7kmVLkUHNJ+sEdtZ4jxqRSsLGHxbO0b/8PzwJ9TI0m7zNLrJRXV3f7bLygrtZ77kxw6aViVN9KqgkH4dPUz3bG3/+xsj9bdp1w8cHo23gPvIii29n4DrKwj1rjCmJFRmvzi8gNgvqDH3Fr8/87lHpEcx5Inz9axHQzEZnxh+3GWDGQQ+0hUjoUmxOR4V29WA80NqE8fTdHxzSx2zVDu99WUMMd9EKOy62gFWQVgPEDEvvWArAZuTieJCw0Wf/2zZn8p+hhSYylCHU9Q2yYo="
      # cloud-ci
      - secure: "w4ywgEcpZnUKrPEdsK2zXf+D9yngtEwKiEHt3xK93zp0vy3s84RAUCwBZu3vfyWzvc7dlWn8ar2ruES+6M2kzzcDJiH6S/pL08/2OhNLGRVLb998182U/a8vsuxxIX4JcxNLdJCkqhzsyEVQJytPNA7uk+90l+UlEnCIhjax2glRmnCHkTOZT3B5UliQYoATr/es0SrKR6OjKTkxsaXR8741UKE+CeBmWPTmwbpp/lpmxchbuorFJPZybgObWgEmqrY4CKajKKaxFwK5bFONtanRxIGnSCS9hT56gKi8Vr6P3S7gqqAuBBwNXlXddAazR/BZi+uOng8X8Gr1t3RWgTPLCgNi3L4vtj6yK2tnDu2mXmKI0ExqOqQPLb1G97uqNt+S6YlNQm45+QS3ZRLJq7+f3aCGOF2f48ocmVH8h6OBFgvlLThvrIcIwgywqKJzkTJTQW5/M/e0+5Y+rqpRDICTGkBGpdM6pNV4TJWs64lFXV5Dbx/CCsC9bs7VSEOV/r9wM/ElsRsX3xffk3c4jU4R839bfuvH4kylBdXUUuXi+jdZqQqV0Ll0XZJc6yJVC+KjdlkUA01CJKbn3k73po5mjULpwuCEVFegrl3HZOfPvzftVdQ0mzZC5MWG/nG+Viitz2GNpEfcXHshaa2/WEHmNFElZYLSEwi9S66PZ5I="
    on_success: change
    on_pull_requests: false

# 2. Env
# env:

# 3. Git
# git:
branches:
  only:
    - master
    - /^v(\d+)\.(\d+)\.(\d+)/ # version tags

# 4. Bootstrap
os: linux
dist: xenial
language: generic
# addons:
before_cache: ./.travis.sh before_cache
cache:
  directories:
    # common
    - $HOME/.local
    - $HOME/.npm
    # darwin
    - $HOME/.homebrew
    - $HOME/Library/Caches/Homebrew
    - $HOME/Library/Caches/pip
    # linux
    - $HOME/.cache/Homebrew
    - $HOME/.cache/pip
    - $HOME/.linuxbrew

# 5. Steps
before_install: ./.travis.sh before_install
install: ./.travis.sh install
before_script: ./.travis.sh before_script
script: ./.travis.sh script
after_success: ./.travis.sh after_success
after_failure: ./.travis.sh after_failure
after_script: ./.travis.sh after_script

# 6. Deploy
before_deploy: ./.travis.sh before_deploy
# deploy:
after_deploy: ./.travis.sh after_deploy
